{"remainingRequest":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\ts-loader\\index.js??ref--14-3!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\src\\js\\Drawer.ts","dependencies":[{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\src\\js\\Drawer.ts","mtime":1632856214374},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9naW8vRGVza3RvcC93b3JrL2xpdmVuZXNzL2xpdmVuZXNzLWRldGVjdGlvbi9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi9Vc2Vycy9naW8vRGVza3RvcC93b3JrL2xpdmVuZXNzL2xpdmVuZXNzLWRldGVjdGlvbi9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQtMAppbXBvcnQgKiBhcyBmYWNlYXBpIGZyb20gImZhY2UtYXBpLmpzIjsKZXhwb3J0IHZhciBEcmF3ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIERyYXdlcihjaGFsbGVuZ2VEZXRhaWxzLCBjYW52YXNFbGVtZW50KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRHJhd2VyKTsKCiAgICB0aGlzLmNoYWxsZW5nZURldGFpbHMgPSBjaGFsbGVuZ2VEZXRhaWxzOwogICAgdGhpcy5jYW52YXNFbGVtZW50ID0gY2FudmFzRWxlbWVudDsKICB9CgogIF9jcmVhdGVDbGFzcyhEcmF3ZXIsIFt7CiAgICBrZXk6ICJkcmF3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkcmF3KGRyYXdPcHRpb25zKSB7CiAgICAgIGlmIChkcmF3T3B0aW9ucy5mYWNlRHJhd0JveE9wdGlvbnMpIHsKICAgICAgICB2YXIgZmFjZUFyZWFCb3ggPSB7CiAgICAgICAgICB4OiB0aGlzLmNoYWxsZW5nZURldGFpbHMuYXJlYUxlZnQsCiAgICAgICAgICB5OiB0aGlzLmNoYWxsZW5nZURldGFpbHMuYXJlYVRvcCwKICAgICAgICAgIHdpZHRoOiB0aGlzLmNoYWxsZW5nZURldGFpbHMuYXJlYVdpZHRoLAogICAgICAgICAgaGVpZ2h0OiB0aGlzLmNoYWxsZW5nZURldGFpbHMuYXJlYUhlaWdodAogICAgICAgIH07CiAgICAgICAgdGhpcy5kcmF3QXJlYShmYWNlQXJlYUJveCwgZHJhd09wdGlvbnMuZmFjZURyYXdCb3hPcHRpb25zKTsKICAgICAgfQoKICAgICAgaWYgKGRyYXdPcHRpb25zLm5vc2VEcmF3Qm94T3B0aW9ucykgewogICAgICAgIHZhciBub3NlQXJlYUJveCA9IHsKICAgICAgICAgIHg6IHRoaXMuY2hhbGxlbmdlRGV0YWlscy5ub3NlTGVmdCwKICAgICAgICAgIHk6IHRoaXMuY2hhbGxlbmdlRGV0YWlscy5ub3NlVG9wLAogICAgICAgICAgd2lkdGg6IHRoaXMuY2hhbGxlbmdlRGV0YWlscy5ub3NlV2lkdGgsCiAgICAgICAgICBoZWlnaHQ6IHRoaXMuY2hhbGxlbmdlRGV0YWlscy5ub3NlSGVpZ2h0CiAgICAgICAgfTsKICAgICAgICB0aGlzLmRyYXdBcmVhKG5vc2VBcmVhQm94LCBkcmF3T3B0aW9ucy5ub3NlRHJhd0JveE9wdGlvbnMpOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZHJhd0FyZWEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRyYXdBcmVhKGJveCwgZHJhd0JveE9wdGlvbnMpIHsKICAgICAgdmFyIGRyYXdCb3ggPSBuZXcgZmFjZWFwaS5kcmF3LkRyYXdCb3goYm94LCBkcmF3Qm94T3B0aW9ucyk7CiAgICAgIGRyYXdCb3guZHJhdyh0aGlzLmNhbnZhc0VsZW1lbnQpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIERyYXdlcjsKfSgpOwpEcmF3ZXIuQ09MT1JfUkVEID0gInJnYmEoMjU1LCAwLCAwLCAxKSI7CkRyYXdlci5DT0xPUl9HUkVFTiA9ICJyZ2JhKDAsIDI1NSwgMCwgMSkiOwpEcmF3ZXIuQ09MT1JfWUVMTE9XID0gInJnYmEoMjU1LCAyNTUsIDAsIDEpIjs="},{"version":3,"sources":["C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\src\\js\\Drawer.ts"],"names":[],"mappings":";;AAAA;AACA;AAEA,OAAO,KAAK,OAAZ,MAAyB,aAAzB;AAaA,WAAa,MAAb;AAQE,kBAAY,gBAAZ,EAAgD,aAAhD,EAAgF;AAAA;;AAC9E,SAAK,gBAAL,GAAwB,gBAAxB;AACA,SAAK,aAAL,GAAqB,aAArB;AACD;;AAXH;AAAA;AAAA,WAaE,cAAK,WAAL,EAA6B;AAC3B,UAAI,WAAW,CAAC,kBAAhB,EAAoC;AAClC,YAAM,WAAW,GAAG;AAClB,UAAA,CAAC,EAAE,KAAK,gBAAL,CAAsB,QADP;AAElB,UAAA,CAAC,EAAE,KAAK,gBAAL,CAAsB,OAFP;AAGlB,UAAA,KAAK,EAAE,KAAK,gBAAL,CAAsB,SAHX;AAIlB,UAAA,MAAM,EAAE,KAAK,gBAAL,CAAsB;AAJZ,SAApB;AAMA,aAAK,QAAL,CAAc,WAAd,EAA2B,WAAW,CAAC,kBAAvC;AACD;;AACD,UAAI,WAAW,CAAC,kBAAhB,EAAoC;AAClC,YAAM,WAAW,GAAG;AAClB,UAAA,CAAC,EAAE,KAAK,gBAAL,CAAsB,QADP;AAElB,UAAA,CAAC,EAAE,KAAK,gBAAL,CAAsB,OAFP;AAGlB,UAAA,KAAK,EAAE,KAAK,gBAAL,CAAsB,SAHX;AAIlB,UAAA,MAAM,EAAE,KAAK,gBAAL,CAAsB;AAJZ,SAApB;AAMA,aAAK,QAAL,CAAc,WAAd,EAA2B,WAAW,CAAC,kBAAvC;AACD;AACF;AAhCH;AAAA;AAAA,WAkCU,kBAAS,GAAT,EAA6B,cAA7B,EAA2D;AACjE,UAAM,OAAO,GAAG,IAAI,OAAO,CAAC,IAAR,CAAa,OAAjB,CAAyB,GAAzB,EAA8B,cAA9B,CAAhB;AACA,MAAA,OAAO,CAAC,IAAR,CAAa,KAAK,aAAlB;AACD;AArCH;;AAAA;AAAA;AACgB,MAAA,CAAA,SAAA,GAAY,oBAAZ;AACA,MAAA,CAAA,WAAA,GAAc,oBAAd;AACA,MAAA,CAAA,YAAA,GAAe,sBAAf","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\nimport * as faceapi from \"face-api.js\";\r\nimport { ChallengeDetails } from \"@/js/RemoteStarter.ts\";\r\n\r\nexport interface DrawBoxOptions {\r\n  readonly boxColor?: string;\r\n  readonly lineWidth?: number;\r\n}\r\n\r\nexport interface DrawOptions {\r\n  readonly faceDrawBoxOptions?: DrawBoxOptions;\r\n  readonly noseDrawBoxOptions?: DrawBoxOptions;\r\n}\r\n\r\nexport class Drawer {\r\n  public static COLOR_RED = \"rgba(255, 0, 0, 1)\";\r\n  public static COLOR_GREEN = \"rgba(0, 255, 0, 1)\";\r\n  public static COLOR_YELLOW = \"rgba(255, 255, 0, 1)\";\r\n\r\n  private readonly challengeDetails: ChallengeDetails;\r\n  private readonly canvasElement: HTMLCanvasElement;\r\n\r\n  constructor(challengeDetails: ChallengeDetails, canvasElement: HTMLCanvasElement) {\r\n    this.challengeDetails = challengeDetails;\r\n    this.canvasElement = canvasElement;\r\n  }\r\n\r\n  draw(drawOptions: DrawOptions) {\r\n    if (drawOptions.faceDrawBoxOptions) {\r\n      const faceAreaBox = {\r\n        x: this.challengeDetails.areaLeft,\r\n        y: this.challengeDetails.areaTop,\r\n        width: this.challengeDetails.areaWidth,\r\n        height: this.challengeDetails.areaHeight\r\n      };\r\n      this.drawArea(faceAreaBox, drawOptions.faceDrawBoxOptions);\r\n    }\r\n    if (drawOptions.noseDrawBoxOptions) {\r\n      const noseAreaBox = {\r\n        x: this.challengeDetails.noseLeft,\r\n        y: this.challengeDetails.noseTop,\r\n        width: this.challengeDetails.noseWidth,\r\n        height: this.challengeDetails.noseHeight\r\n      };\r\n      this.drawArea(noseAreaBox, drawOptions.noseDrawBoxOptions);\r\n    }\r\n  }\r\n\r\n  private drawArea(box: faceapi.IRect, drawBoxOptions: DrawBoxOptions) {\r\n    const drawBox = new faceapi.draw.DrawBox(box, drawBoxOptions);\r\n    drawBox.draw(this.canvasElement);\r\n  }\r\n}\r\n"],"sourceRoot":""}]}