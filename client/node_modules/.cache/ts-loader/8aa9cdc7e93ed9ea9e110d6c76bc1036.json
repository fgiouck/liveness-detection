{"remainingRequest":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\ts-loader\\index.js??ref--14-3!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\src\\js\\RemoteStarter.ts","dependencies":[{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\src\\js\\RemoteStarter.ts","mtime":1632856214375},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9Vc2Vycy9naW8vRGVza3RvcC93b3JrL2xpdmVuZXNzL2xpdmVuZXNzLWRldGVjdGlvbi9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJDOi9Vc2Vycy9naW8vRGVza3RvcC93b3JrL2xpdmVuZXNzL2xpdmVuZXNzLWRldGVjdGlvbi9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKLy8gQ29weXJpZ2h0IEFtYXpvbi5jb20sIEluYy4gb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQtMAppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgTG9nZ2VyIGZyb20gImpzLWxvZ2dlciI7CmltcG9ydCB7IFV0aWxzIH0gZnJvbSAiQC9qcy9VdGlscy50cyI7CmV4cG9ydCB2YXIgUmVtb3RlU3RhcnRlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gUmVtb3RlU3RhcnRlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZW1vdGVTdGFydGVyKTsKICB9CgogIF9jcmVhdGVDbGFzcyhSZW1vdGVTdGFydGVyLCBudWxsLCBbewogICAga2V5OiAic3RhcnRDaGFsbGVuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0Q2hhbGxlbmdlKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykgewogICAgICB2YXIgdXJsID0gVXRpbHMuZ2V0Q29uZmlnKCkuQVBJX1VSTCArIFV0aWxzLmdldENvbmZpZygpLkFQSV9TVEFSVF9FTkRQT0lOVDsKICAgICAgdmFyIHN0YXJ0UmVxdWVzdERhdGEgPSB7CiAgICAgICAgdXNlcklkOiBVdGlscy5nZXRVc2VySWQoKSwKICAgICAgICBpbWFnZVdpZHRoOiBVdGlscy5nZXRNZWRpYVN0cmVhbUluZm8oKS5hY3R1YWxXaWR0aCwKICAgICAgICBpbWFnZUhlaWdodDogVXRpbHMuZ2V0TWVkaWFTdHJlYW1JbmZvKCkuYWN0dWFsSGVpZ2h0CiAgICAgIH07CiAgICAgIExvZ2dlci5pbmZvKCJjYWxsaW5nICIuY29uY2F0KHVybCkpOwogICAgICBMb2dnZXIuaW5mbyhzdGFydFJlcXVlc3REYXRhKTsKICAgICAgYXhpb3MucG9zdCh1cmwsIHN0YXJ0UmVxdWVzdERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgTG9nZ2VyLmluZm8ocmVzcG9uc2UpOwogICAgICAgIHZhciBjaGFsbGVuZ2VEZXRhaWxzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBMb2dnZXIuaW5mbyhjaGFsbGVuZ2VEZXRhaWxzKTsKICAgICAgICBzdWNjZXNzQ2FsbGJhY2soY2hhbGxlbmdlRGV0YWlscyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIExvZ2dlci5lcnJvcihlcnJvcik7CiAgICAgICAgZXJyb3JDYWxsYmFjayhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFJlbW90ZVN0YXJ0ZXI7Cn0oKTs="},{"version":3,"sources":["C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\gio\\Desktop\\work\\liveness\\liveness-detection\\client\\src\\js\\RemoteStarter.ts"],"names":[],"mappings":";;AAAA;AACA;AAEA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAP,MAAmB,WAAnB;AACA,SAAS,KAAT,QAAsB,eAAtB;AAwBA,WAAa,aAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,WACE,wBACE,eADF,EAEE,aAFF,EAEuC;AAErC,UAAM,GAAG,GAAW,KAAK,CAAC,SAAN,GAAkB,OAAlB,GAA4B,KAAK,CAAC,SAAN,GAAkB,kBAAlE;AACA,UAAM,gBAAgB,GAAqB;AACzC,QAAA,MAAM,EAAE,KAAK,CAAC,SAAN,EADiC;AAEzC,QAAA,UAAU,EAAE,KAAK,CAAC,kBAAN,GAA2B,WAFE;AAGzC,QAAA,WAAW,EAAE,KAAK,CAAC,kBAAN,GAA2B;AAHC,OAA3C;AAKA,MAAA,MAAM,CAAC,IAAP,mBAAuB,GAAvB;AACA,MAAA,MAAM,CAAC,IAAP,CAAY,gBAAZ;AACA,MAAA,KAAK,CACF,IADH,CACQ,GADR,EACa,gBADb,EAEG,IAFH,CAEQ,UAAS,QAAT,EAAsB;AAC1B,QAAA,MAAM,CAAC,IAAP,CAAY,QAAZ;AACA,YAAM,gBAAgB,GAAqB,QAAQ,CAAC,IAApD;AACA,QAAA,MAAM,CAAC,IAAP,CAAY,gBAAZ;AACA,QAAA,eAAe,CAAC,gBAAD,CAAf;AACD,OAPH,EAQG,KARH,CAQS,UAAS,KAAT,EAAmB;AACxB,QAAA,MAAM,CAAC,KAAP,CAAa,KAAb;AACA,QAAA,aAAa,CAAC,KAAD,CAAb;AACD,OAXH;AAYD;AAzBH;;AAAA;AAAA","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n// SPDX-License-Identifier: MIT-0\r\n\r\nimport axios from \"axios\";\r\nimport Logger from \"js-logger\";\r\nimport { Utils } from \"@/js/Utils.ts\";\r\n\r\ninterface StartRequestData {\r\n  readonly userId: string;\r\n  readonly imageWidth: number;\r\n  readonly imageHeight: number;\r\n}\r\n\r\nexport interface ChallengeDetails {\r\n  readonly id: string;\r\n  readonly userId: string;\r\n  readonly token: string;\r\n  readonly areaHeight: number;\r\n  readonly areaLeft: number;\r\n  readonly areaTop: number;\r\n  readonly areaWidth: number;\r\n  readonly imageHeight: number;\r\n  readonly imageWidth: number;\r\n  readonly noseHeight: number;\r\n  readonly noseLeft: number;\r\n  readonly noseTop: number;\r\n  readonly noseWidth: number;\r\n}\r\n\r\nexport class RemoteStarter {\r\n  static startChallenge(\r\n    successCallback: (challengeDetails: ChallengeDetails) => void,\r\n    errorCallback: (error: Error) => void\r\n  ): void {\r\n    const url: string = Utils.getConfig().API_URL + Utils.getConfig().API_START_ENDPOINT;\r\n    const startRequestData: StartRequestData = {\r\n      userId: Utils.getUserId(),\r\n      imageWidth: Utils.getMediaStreamInfo().actualWidth,\r\n      imageHeight: Utils.getMediaStreamInfo().actualHeight\r\n    };\r\n    Logger.info(`calling ${url}`);\r\n    Logger.info(startRequestData);\r\n    axios\r\n      .post(url, startRequestData)\r\n      .then(function(response: any) {\r\n        Logger.info(response);\r\n        const challengeDetails: ChallengeDetails = response.data;\r\n        Logger.info(challengeDetails);\r\n        successCallback(challengeDetails);\r\n      })\r\n      .catch(function(error: any) {\r\n        Logger.error(error);\r\n        errorCallback(error);\r\n      });\r\n  }\r\n}\r\n"],"sourceRoot":""}]}